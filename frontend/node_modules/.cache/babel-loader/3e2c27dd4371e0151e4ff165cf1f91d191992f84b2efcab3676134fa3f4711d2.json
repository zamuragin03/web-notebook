{"ast":null,"code":"import { useContext } from \"react\";\nexport default class NoteService {\n  static async get_all_notes() {\n    try {\n      var _tokens;\n      let {\n        authTokens\n      } = useContext(Auth);\n      let refresh_response = await fetch(`/api/token/refresh/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'refresh': tokens.refresh\n        })\n      });\n      let new_tokens = await refresh_response.json();\n      localStorage.setItem('authTokens', JSON.stringify({\n        'access': new_tokens.access,\n        'refresh': tokens.refresh\n      }));\n      const response = await fetch('api/get_notes', {\n        headers: {\n          'Authorization': `Bearer ${(_tokens = tokens) === null || _tokens === void 0 ? void 0 : _tokens.access}`\n        }\n      });\n      return response.json();\n    } catch (error) {}\n  }\n}","map":{"version":3,"names":["useContext","NoteService","get_all_notes","_tokens","authTokens","Auth","refresh_response","fetch","method","headers","body","JSON","stringify","tokens","refresh","new_tokens","json","localStorage","setItem","access","response","error"],"sources":["/Users/zanuragin03/Desktop/pyprojects/MusicApp/frontend/src/API/notes/NoteService.js"],"sourcesContent":["import { useContext } from \"react\"\nexport default class NoteService {\n    static async get_all_notes() {\n        try {\n            let {authTokens} = useContext(Auth)\n            let refresh_response = await fetch(`/api/token/refresh/`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ 'refresh': tokens.refresh })\n            })\n                let new_tokens = await refresh_response.json()\n                localStorage.setItem('authTokens', JSON.stringify({'access':new_tokens.access,'refresh':tokens.refresh}))\n\n            const response = await fetch('api/get_notes', {\n                headers: {\n                    'Authorization': `Bearer ${tokens?.access}`\n                }\n            }\n            )\n\n            return response.json()\n        } catch (error) {\n        }\n\n    }\n}"],"mappings":"AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,eAAe,MAAMC,WAAW,CAAC;EAC7B,aAAaC,aAAaA,CAAA,EAAG;IACzB,IAAI;MAAA,IAAAC,OAAA;MACA,IAAI;QAACC;MAAU,CAAC,GAAGJ,UAAU,CAACK,IAAI,CAAC;MACnC,IAAIC,gBAAgB,GAAG,MAAMC,KAAK,CAAE,qBAAoB,EAAE;QACtDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAE,SAAS,EAAEC,MAAM,CAACC;QAAQ,CAAC;MACtD,CAAC,CAAC;MACE,IAAIC,UAAU,GAAG,MAAMT,gBAAgB,CAACU,IAAI,EAAE;MAC9CC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEP,IAAI,CAACC,SAAS,CAAC;QAAC,QAAQ,EAACG,UAAU,CAACI,MAAM;QAAC,SAAS,EAACN,MAAM,CAACC;MAAO,CAAC,CAAC,CAAC;MAE7G,MAAMM,QAAQ,GAAG,MAAMb,KAAK,CAAC,eAAe,EAAE;QAC1CE,OAAO,EAAE;UACL,eAAe,EAAG,UAAO,CAAAN,OAAA,GAAEU,MAAM,cAAAV,OAAA,uBAANA,OAAA,CAAQgB,MAAO;QAC9C;MACJ,CAAC,CACA;MAED,OAAOC,QAAQ,CAACJ,IAAI,EAAE;IAC1B,CAAC,CAAC,OAAOK,KAAK,EAAE,CAChB;EAEJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}